$NetBSD$

* Part of patchset to build on NetBSD

--- third_party/rust/chromium_crates_io/vendor/clap-4.5.0/Cargo.toml.orig	2024-03-19 22:15:22.842501600 +0000
+++ third_party/rust/chromium_crates_io/vendor/clap-4.5.0/Cargo.toml
@@ -1,52 +1,52 @@
-[workspace]
-resolver = "2"
-members = [
-  "clap_bench",
-  "clap_builder",
-  "clap_derive",
-  "clap_lex",
-  "clap_complete",
-  "clap_complete_fig",
-  "clap_complete_nushell",
-  "clap_mangen",
-]
-
-[workspace.package]
-license = "MIT OR Apache-2.0"
-edition = "2021"
-rust-version = "1.74"  # MSRV
-include = [
-  "build.rs",
-  "src/**/*",
-  "Cargo.toml",
-  "LICENSE*",
-  "README.md",
-  "benches/**/*",
-  "examples/**/*"
-]
+# THIS FILE IS AUTOMATICALLY GENERATED BY CARGO
+#
+# When uploading crates to the registry Cargo will automatically
+# "normalize" Cargo.toml files for maximal compatibility
+# with all versions of Cargo and also rewrite `path` dependencies
+# to registry (e.g., crates.io) dependencies.
+#
+# If you are reading this file be aware that the original Cargo.toml
+# will likely look very different (and much more reasonable).
+# See Cargo.toml.orig for the original contents.
 
 [package]
+edition = "2021"
+rust-version = "1.74"
 name = "clap"
 version = "4.5.0"
+include = [
+    "build.rs",
+    "src/**/*",
+    "Cargo.toml",
+    "LICENSE*",
+    "README.md",
+    "benches/**/*",
+    "examples/**/*",
+]
 description = "A simple to use, efficient, and full-featured Command Line Argument Parser"
-repository = "https://github.com/clap-rs/clap"
-categories = ["command-line-interface"]
+readme = "README.md"
 keywords = [
-  "argument",
-  "cli",
-  "arg",
-  "parser",
-  "parse"
+    "argument",
+    "cli",
+    "arg",
+    "parser",
+    "parse",
 ]
-license.workspace = true
-edition.workspace = true
-rust-version.workspace = true
-include.workspace = true
+categories = ["command-line-interface"]
+license = "MIT OR Apache-2.0"
+repository = "https://github.com/clap-rs/clap"
 
 [package.metadata.docs.rs]
+cargo-args = [
+    "-Zunstable-options",
+    "-Zrustdoc-scrape-examples",
+]
 features = ["unstable-doc"]
-rustdoc-args = ["--cfg", "docsrs", "--generate-link-to-definition"]
-cargo-args = ["-Zunstable-options", "-Zrustdoc-scrape-examples"]
+rustdoc-args = [
+    "--cfg",
+    "docsrs",
+    "--generate-link-to-definition",
+]
 
 [package.metadata.playground]
 features = ["unstable-doc"]
@@ -54,66 +54,68 @@ features = ["unstable-doc"]
 [package.metadata.release]
 shared-version = true
 tag-name = "v{{version}}"
-pre-release-replacements = [
-  {file="CHANGELOG.md", search="Unreleased", replace="{{version}}", min=1},
-  {file="CHANGELOG.md", search="\\.\\.\\.HEAD", replace="...{{tag_name}}", exactly=1},
-  {file="CHANGELOG.md", search="ReleaseDate", replace="{{date}}", min=1},
-  {file="CHANGELOG.md", search="<!-- next-header -->", replace="<!-- next-header -->\n## [Unreleased] - ReleaseDate\n", exactly=1},
-  {file="CHANGELOG.md", search="<!-- next-url -->", replace="<!-- next-url -->\n[Unreleased]: https://github.com/clap-rs/clap/compare/{{tag_name}}...HEAD", exactly=1},
-  {file="CITATION.cff", search="^date-released: ....-..-..", replace="date-released: {{date}}"},
-  {file="CITATION.cff", search="^version: .+\\..+\\..+", replace="version: {{version}}"},
-  {file="src/lib.rs", search="blob/v.+\\..+\\..+/CHANGELOG.md", replace="blob/v{{version}}/CHANGELOG.md", exactly=1},
-]
 
-[features]
-default = [
-  "std",
-  "color",
-  "help",
-  "usage",
-  "error-context",
-  "suggestions",
-]
-debug = ["clap_builder/debug", "clap_derive?/debug"] # Enables debug messages
-unstable-doc = ["clap_builder/unstable-doc", "derive"] # for docs.rs
+[[package.metadata.release.pre-release-replacements]]
+file = "CHANGELOG.md"
+min = 1
+replace = "{{version}}"
+search = "Unreleased"
+
+[[package.metadata.release.pre-release-replacements]]
+exactly = 1
+file = "CHANGELOG.md"
+replace = "...{{tag_name}}"
+search = '\.\.\.HEAD'
+
+[[package.metadata.release.pre-release-replacements]]
+file = "CHANGELOG.md"
+min = 1
+replace = "{{date}}"
+search = "ReleaseDate"
+
+[[package.metadata.release.pre-release-replacements]]
+exactly = 1
+file = "CHANGELOG.md"
+replace = """
+<!-- next-header -->
+## [Unreleased] - ReleaseDate
+"""
+search = "<!-- next-header -->"
+
+[[package.metadata.release.pre-release-replacements]]
+exactly = 1
+file = "CHANGELOG.md"
+replace = """
+<!-- next-url -->
+[Unreleased]: https://github.com/clap-rs/clap/compare/{{tag_name}}...HEAD"""
+search = "<!-- next-url -->"
+
+[[package.metadata.release.pre-release-replacements]]
+file = "CITATION.cff"
+replace = "date-released: {{date}}"
+search = "^date-released: ....-..-.."
+
+[[package.metadata.release.pre-release-replacements]]
+file = "CITATION.cff"
+replace = "version: {{version}}"
+search = '^version: .+\..+\..+'
+
+[[package.metadata.release.pre-release-replacements]]
+exactly = 1
+file = "src/lib.rs"
+replace = "blob/v{{version}}/CHANGELOG.md"
+search = 'blob/v.+\..+\..+/CHANGELOG.md'
 
-# Used in default
-std = ["clap_builder/std"] # support for no_std in a backwards-compatible way
-color = ["clap_builder/color"]
-help = ["clap_builder/help"]
-usage = ["clap_builder/usage"]
-error-context = ["clap_builder/error-context"]
-suggestions = ["clap_builder/suggestions"]
-
-# Optional
-deprecated = ["clap_builder/deprecated", "clap_derive?/deprecated"] # Guided experience to prepare for next breaking release (at different stages of development, this may become default)
-derive = ["dep:clap_derive"]
-cargo = ["clap_builder/cargo"] # Disable if you're not using Cargo, enables Cargo-env-var-dependent macros
-wrap_help = ["clap_builder/wrap_help"]
-env = ["clap_builder/env"] # Use environment variables during arg parsing
-unicode = ["clap_builder/unicode"]  # Support for unicode characters in arguments and help messages
-string = ["clap_builder/string"]  # Allow runtime generated strings
+[profile.bench]
+lto = true
+codegen-units = 1
 
-# In-work features
-unstable-v5 = ["clap_builder/unstable-v5", "clap_derive?/unstable-v5", "deprecated"]
-unstable-styles = ["clap_builder/unstable-styles"]
+[profile.test]
+opt-level = 1
 
 [lib]
 bench = false
 
-[dependencies]
-clap_builder = { path = "./clap_builder", version = "=4.5.0", default-features = false }
-clap_derive = { path = "./clap_derive", version = "=4.5.0", optional = true }
-
-[dev-dependencies]
-trybuild = "1.0.89"
-rustversion = "1.0.14"
-# Cutting out `filesystem` feature
-trycmd = { version = "0.14.20", default-features = false, features = ["color-auto", "diff", "examples"] }
-humantime = "2.1.0"
-snapbox = "0.4.16"
-shlex = "1.3.0"
-
 [[example]]
 name = "demo"
 required-features = ["derive"]
@@ -256,8 +258,8 @@ required-features = ["cargo"]
 [[example]]
 name = "05_01_assert"
 path = "examples/tutorial_builder/05_01_assert.rs"
-required-features = ["cargo"]
 test = true
+required-features = ["cargo"]
 
 [[example]]
 name = "01_quick_derive"
@@ -352,8 +354,8 @@ required-features = ["derive"]
 [[example]]
 name = "05_01_assert_derive"
 path = "examples/tutorial_derive/05_01_assert.rs"
-required-features = ["derive"]
 test = true
+required-features = ["derive"]
 
 [[example]]
 name = "interop_augment_args"
@@ -375,9 +377,74 @@ name = "interop_flatten_hand_args"
 path = "examples/derive_ref/flatten_hand_args.rs"
 required-features = ["derive"]
 
-[profile.test]
-opt-level = 1
+[dependencies.clap_builder]
+version = "=4.5.0"
+default-features = false
+
+[dependencies.clap_derive]
+version = "=4.5.0"
+optional = true
+
+[dev-dependencies.humantime]
+version = "2.1.0"
+
+[dev-dependencies.rustversion]
+version = "1.0.14"
+
+[dev-dependencies.shlex]
+version = "1.3.0"
+
+[dev-dependencies.snapbox]
+version = "0.4.16"
+
+[dev-dependencies.trybuild]
+version = "1.0.89"
+
+[dev-dependencies.trycmd]
+version = "0.14.20"
+features = [
+    "color-auto",
+    "diff",
+    "examples",
+]
+default-features = false
 
-[profile.bench]
-lto = true
-codegen-units = 1
+[features]
+cargo = ["clap_builder/cargo"]
+color = ["clap_builder/color"]
+debug = [
+    "clap_builder/debug",
+    "clap_derive?/debug",
+]
+default = [
+    "std",
+    "color",
+    "help",
+    "usage",
+    "error-context",
+    "suggestions",
+]
+deprecated = [
+    "clap_builder/deprecated",
+    "clap_derive?/deprecated",
+]
+derive = ["dep:clap_derive"]
+env = ["clap_builder/env"]
+error-context = ["clap_builder/error-context"]
+help = ["clap_builder/help"]
+std = ["clap_builder/std"]
+string = ["clap_builder/string"]
+suggestions = ["clap_builder/suggestions"]
+unicode = ["clap_builder/unicode"]
+unstable-doc = [
+    "clap_builder/unstable-doc",
+    "derive",
+]
+unstable-styles = ["clap_builder/unstable-styles"]
+unstable-v5 = [
+    "clap_builder/unstable-v5",
+    "clap_derive?/unstable-v5",
+    "deprecated",
+]
+usage = ["clap_builder/usage"]
+wrap_help = ["clap_builder/wrap_help"]
